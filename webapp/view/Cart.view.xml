<mvc:View
    xmlns:table="sap.fe.macros.table"
    controllerName="ecommercehub.controller.Cart"
    displayBlock="true"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:p="sap.m.plugins"
>
    <Page
        enableScrolling="true"
        showHeader="false"
    >
        <mvc:XMLView viewName="ecommercehub.view.Header" />
        <HBox
            width="100%"
            alignItems="Start"
            justifyContent="SpaceBetween"
            class="sapUiTinyMargin"
        >
            <VBox
                width="70%"
                class="sapUiSmallMarginEnd sapUiSmallMarginTop"
            >
                <Panel headerText="{cart>/cartCode}">
                    <Table
                        id="cartItemTable"
                        items="{cart>/items}"
                    >
                        <columns>
                            <Column width="12em">
                                <Text text="Image" />
                            </Column>
                            <Column width="12em">
                                <Text text="Name" />
                            </Column>
                            <Column
                                minScreenWidth="Desktop"
                                demandPopin="true"
                                hAlign="End"
                            >
                                <Text text="UnitPrice" />
                            </Column>
                            <Column
                                minScreenWidth="Desktop"
                                demandPopin="true"
                                hAlign="Center"
                            >
                                <Text text="Quantity" />
                            </Column>
                            <Column hAlign="Left">
                                <Text text="Price" />
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem vAlign="Middle">
                                <Image
                                    width="5rem"
                                    height="5rem"
                                    src="{cart>variant/imageUrl}"
                                />
                                <Text text="{cart>variant/name}" />
                                <Text text="{cart>unitPrice}" />
                                <Text text="{cart>quantity}" />
                                <ObjectNumber
                                    number="{
							parts:[{path:'cart>totalPrice'}],
							type: 'sap.ui.model.type.Currency'
						}"
                                    unit="{cart>/currency}"
                                />
                            </ColumnListItem>
                        </items>
                    </Table>
                </Panel>
            </VBox>

            <VBox
                width="30%"
                class="sapUiSmallMarginBegin sapUiSmallMarginTop"
            >
                <Panel
                    headerText="Total Price"
                    class="sapUiContentPadding"
                >
                    <VBox gap="10px">
                        <HBox justifyContent="SpaceBetween">
                            <Text text="Subtotal" />
                            <Text
                                text="{
                                parts:[{path:'cart>/subtotal'}],
                                type:'sap.ui.model.type.Currency'
                            }"
                            />
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Tax" />
                            <Text
                                text="{
                                parts:[{path:'cart>/taxAmount'}],
                                type:'sap.ui.model.type.Currency'
                            }"
                            />
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Shipping" />
                            <Text
                                text="{
                                parts:[{path:'cart>/shippingFee'}],
                                type:'sap.ui.model.type.Currency'
                            }"
                            />
                        </HBox>

                        <HBox
                            justifyContent="SpaceBetween"
                            class="sapUiSmallMarginTop"
                        >
                            <Text text="Grand Total" />
                            <ObjectNumber
                                number="{cart>/grandTotal}"
                                emphasized="true"
                            />
                        </HBox>

                        <Button
                            text="Checkout"
                            type="Emphasized"
                            icon="sap-icon://cart"
                            class="sapUiMediumMarginTop"
                            press="checkout"
                            width="100%"
                        />
                    </VBox>
                </Panel>
            </VBox>
            
        </HBox>


    </Page>
</mvc:View>
